<ion-view view-title="{{properties.title}}" ng-init="Init()" class="bg-bg">
	<ion-content class="padding" scroll="true" >
		<h4 class="text-center">Create Scene</h4> 
		
		<label class="item item-input">
	   		<span class="input-label">Select Room:</span>
		    <select ng-change="LoadRoom()" ng-model="droproom.id">
		      <option ng-repeat="room in rooms"  value="{{room.id}}">{{room.name}}</option>
		    </select>
	  	</label>

		<label class="item item-input">
			<span class="input-label">Scene Name:</span>
			<input type="text" ng-model="scene.name" placeholder="Enter Scene Name">
		</label>
	
		<div class="list">
			<div class="item item-toggle1" ng-repeat="boardOBJ in boardButtons" > {{BID=$index;""}}
		     {{boardOBJ[0].model}}

			<div class="list">

			  <div class="item item-toggle item-dark" ng-repeat="light in boardOBJ" ng-if="light.type === 'fan'">
			     {{light.name}}
			     
			     <div class="range toggle">
			     <i class="icon ion-ios-sunny-outline"></i>
			       <input type="range" name="volume" min="0" max="100" on-release="send_to_smitch(light,BID)" ng-model="light.state">
			       <i class="icon ion-ios-sunny"></i>
			       </div>
			     
			  </div>
			  
			  <div class="item item-toggle" ng-repeat="light in boardOBJ" ng-if="light.type === 'light'">
			     {{light.name}}

			     <label class="toggle toggle-assertive" >
			       <input type="checkbox" ng-click="send_to_smitch(light,BID)" parse-int ng-true-value="1" ng-false-value="0" ng-model="light.state">
			       <div class="track">
			         <div class="handle"></div>
			       </div>
			     </label>
			  </div>

			</div>


		     </div>
		</div>

		<div class="list">
			<ion-toggle ng-model="checked1" toggle-class="toggle-calm">Enable Schedule</ion-toggle>
			<div id="sched"  ng-show="checked1">
				<button class="button button-clear button-dark icon-left ion-android-calendar" ion-datetime-picker time am-pm ng-model="timevalue.dt">Set Schedule:&nbsp; &nbsp;{{timevalue.dt| date: "h:mm:ss a"}}</button><br>
				
				<ion-toggle class="right" ng-model="checked2" toggle-class="toggle-calm">Repeat</ion-toggle>
			
				<div class="row" ng-show="checked2">
				  <div class="col"><button id="0" ng-click="changeState($event)" value="" class="button button-small button-{{days[0].state>=1?'calm':'stable'}}">S</button></div>
				  <div class="col"><button id="1" ng-click="changeState($event)" value="" class="button button-small button-{{days[1].state>=1?'calm':'stable'}}">M</button></div>
				  <div class="col"><button id="2" ng-click="changeState($event)"" value="" class="button button-small button-{{days[2].state>=1?'calm':'stable'}}">T</button></div>
				  <div class="col"><button id="3" ng-click="changeState($event)" value="" class="button button-small button-{{days[3].state>=1?'calm':'stable'}}">W</button></div>
				  <div class="col"><button id="4" ng-click="changeState($event)" value="" class="button button-small button-{{days[4].state>=1?'calm':'stable'}}">T</button></div>
				  <div class="col"><button id="5" ng-click="changeState($event)" value="" class="button button-small button-{{days[5].state>=1?'calm':'stable'}}">F</button></div>
				  <div class="col"><button id="6" ng-click="changeState($event)" value="" class="button button-small button-{{days[6].state>=1?'calm':'stable'}}">S</button></div>
				</div>
			</div>
			<br>
			<div class="row">
				<div class="col text-center ">
					<button class="button button-assertive" ng-click="SaveScene(scene.id)">
					  Save
					</button>					

				</div>
			</div>
	
		</div>




	</ion-content>
</ion-view>
